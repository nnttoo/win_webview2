<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <link rel="stylesheet" href="/bootstrap.css?v=9">
    <title>Page Titlesssssssss</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

</head>

<body>
    <div class="container">
        <h4>Open File Dialog</h4>
        <div class="input-group mb-3">
            <input id="ipt_dialog" type="text" class="form-control" placeholder="Recipient's username"
                aria-label="Recipient's username" aria-describedby="button-addon2">
            <button id="openfdialog" class="btn btn-outline-secondary" type="button" >Open File Dialog</button>
        </div>

        <h4>Open Folder Dialog</h4>
        <div class="input-group mb-3">
            <input id="ipt_dialog_folder" type="text" class="form-control" placeholder="Recipient's username"
                aria-label="Recipient's username" aria-describedby="button-addon2">
            <button id="openfolder" class="btn btn-outline-secondary" type="button">Open File Dialog</button>
        </div>
    </div>

    <script>

        setTimeout(() => {
            document.title = "test change title";
        }, 3000);

            (() => {
                /** @type {HTMLButtonElement} */
                let btn = document.querySelector("#openfdialog");
                btn.onclick = async () => {
                    const response = await fetch("/openfiledialog");
                    let result = await response.text();

                    /** @type {HTMLInputElement} */
                    let input = document.querySelector('#ipt_dialog');
                    input.value = result;
                }
            })();

            (() => {
                /** @type {HTMLButtonElement} */
                let btn = document.querySelector("#openfolder");
                btn.onclick = async () => {
                    console.log("click folder")
                    const response = await fetch("/openfolderdialog");
                    let result = await response.text();

                    /** @type {HTMLInputElement} */
                    let input = document.querySelector('#ipt_dialog_folder');
                    input.value = result;
                }
            })();
    </script>
</body>

</html>